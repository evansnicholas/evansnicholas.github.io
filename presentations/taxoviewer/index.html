---
---
<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Querying Taxonomies</title>

    <meta name="description" content="A presentation about querying taxonomies, using Yaidom, TQA and the Tornit Taxonomy Viewer.">
    <meta name="author" content="Nick Evans">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    {% stylesheet "reveal.css" %}
    {% stylesheet "theme/beige.css" %}
    {% stylesheet "taxoviewer.css" %}

    <!-- Code syntax highlighting -->
    {% stylesheet "lib/zenburn.css" %}

    <!--[if lt IE 9]>
	{% javascript lib/html5shiv.js %}
	<![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <h1>Querying Taxonomies</h1>
          <p>
            <small>Chris de Vreeze and Nick Evans</small>
          </p>        
        </section>
        <section>
          <svg width="960" height="700" viewBox="0 0 960 700">
            <defs>
              <marker id="head-down" markerWidth="10" markerHeight="20" refX="5" refY="0.1"> 
                <path d="M0,0 H10 L5,5 Z" style="stroke-width:1;stroke:black;fill:black;"/>
              </marker>
              <marker id="head-up" markerWidth="10" markerHeight="20" refX="5" refY="9.9"> 
                <path d="M0,10 H10 L5,5 Z" style="stroke-width:1;stroke:black;fill:black;"/>
              </marker>
            </defs>
            <g transform="translate(200,125)">
              <rect width="150" height="75" x="0" y="0" 
                    style="fill:white;stroke-width:1;stroke:black;"/>
              <text x="40" y="45" font-size="20">Client 1</text>
              <path d="M50 75 V200" 
                    style="stroke:black;stroke-width:1;"
                    marker-end="url(#head-down)"/>
              <text x="-90" y="135" font-size="15">GET /concept/labels</text>
              <path d="M100 80 V200" 
                    style="stroke:black;stroke-width:1;"
                    marker-start="url(#head-up)"/>
              <text x="110" y="135" font-size="15">JSON  {...}</text>
            </g>
            <g transform="translate(600,125)">
              <rect width="150" height="75" x="0" y="0" 
                    style="fill:white;stroke-width:1;stroke:black;"/>
              <text x="40" y="45" font-size="20">Client N</text>
              <path d="M50 75 V200" 
                    style="stroke:black;stroke-width:1;"
                    marker-end="url(#head-down)"/>
              <text x="-110" y="135" font-size="15">GET /presentationTree</text>
              <path d="M100 80 V200" 
                    style="stroke:black;stroke-width:1;"
                    marker-start="url(#head-up)"/>
              <text x="110" y="135" font-size="15">JSON  {...}</text>
            </g>
            <path d="M20 350 H920" style="stroke:black;"/>
            <g transform="translate(150, 360)">
              <rect width="640" height="90"
                    style="fill:white;stroke:black;"/>
              <g transform="translate(260, 25)">
                <text x="0" y="0" font-size="20">REST API</text>
                <text x="0" y="25" font-size="20">/concept/references</text>
                <text x="0" y="50" font-size="20">/dtsGraph</text>
              </g>
            </g>
            <g transform="translate(150, 455)">
              <rect width="640" height="30"
                    style="fill:white;stroke:black;"/>
              <g transform="translate(260, 22)">
                <text x="0" y="0" font-size="20">TQA</text>
              </g>
            </g>
            <g transform="translate(150, 490)">
              <rect width="640" height="30"
                    style="fill:white;stroke:black;"/>
              <g transform="translate(260, 22)">
                <text x="0" y="0" font-size="20">Yaidom</text>
              </g>
            </g>
            <g transform="translate(150, 525)">
              <g transform="translate(0, 0)">
                <rect width="153" height="60"
                      style="fill:white;stroke:black;"/>
                <text x="55" y="40" font-size="20">XML</text>
              </g>
              <g transform="translate(163, 0)">
                <rect width="152" height="60"
                      style="fill:white;stroke:black;"/>
                <text x="55" y="40" font-size="20">XML</text>
              </g>
              <g transform="translate(325, 0)">
                <rect width="152" height="60"
                      style="fill:white;stroke:black;"/>
                <text x="55" y="40" font-size="20">XML</text>
              </g>
              <g transform="translate(487, 0)">
                <rect width="153" height="60"
                      style="fill:white;stroke:black;"/>
                <text x="55" y="40" font-size="20">XML</text>
              </g>
            </g>
          </svg>
        </section>
        <section data-transition="none">
          <svg width="960" height="700" viewBox="0 0 960 700">
            <defs>
              <marker id="head-down" markerWidth="10" markerHeight="20" refX="5" refY="0.1"> 
                <path d="M0,0 H10 L5,5 Z" style="stroke-width:1;stroke:black;fill:black;"/>
              </marker>
              <marker id="head-up" markerWidth="10" markerHeight="20" refX="5" refY="9.9"> 
                <path d="M0,10 H10 L5,5 Z" style="stroke-width:1;stroke:black;fill:black;"/>
              </marker>
            </defs>
            <g transform="translate(200,125)">
              <rect width="150" height="75" x="0" y="0" 
                    style="fill:white;stroke-width:1;stroke:black;"/>
              <text x="40" y="45" font-size="20">Client 1</text>
              <path d="M50 75 V200" 
                    style="stroke:black;stroke-width:1;"
                    marker-end="url(#head-down)"/>
              <text x="-90" y="135" font-size="15">GET /concept/labels</text>
              <path d="M100 80 V200" 
                    style="stroke:black;stroke-width:1;"
                    marker-start="url(#head-up)"/>
              <text x="110" y="135" font-size="15">JSON  {...}</text>
            </g>
            <g transform="translate(600,125)">
              <rect width="150" height="75" x="0" y="0" 
                    style="fill:white;stroke-width:1;stroke:black;"/>
              <text x="40" y="45" font-size="20">Client N</text>
              <path d="M50 75 V200" 
                    style="stroke:black;stroke-width:1;"
                    marker-end="url(#head-down)"/>
              <text x="-110" y="135" font-size="15">GET /presentationTree</text>
              <path d="M100 80 V200" 
                    style="stroke:black;stroke-width:1;"
                    marker-start="url(#head-up)"/>
              <text x="110" y="135" font-size="15">JSON  {...}</text>
            </g>
            <path d="M20 350 H920" style="stroke:black;"/>
            <g transform="translate(150, 360)">
              <rect width="640" height="90"
                    style="fill:white;stroke:black;"/>
              <g transform="translate(260, 25)">
                <text x="0" y="0" font-size="20">REST API</text>
                <text x="0" y="25" font-size="20">/concept/references</text>
                <text x="0" y="50" font-size="20">/dtsGraph</text>
              </g>
            </g>
            <g transform="translate(150, 455)">
              <rect width="640" height="30"
                    style="fill:white;stroke:black;"/>
              <g transform="translate(260, 22)">
                <text x="0" y="0" font-size="20">TQA</text>
              </g>
            </g>
            <g transform="translate(150, 490)">
              <rect width="640" height="30"
                    style="fill:white;stroke:black;"/>
              <g transform="translate(260, 22)">
                <text x="0" y="0" font-size="20">Yaidom</text>
              </g>
            </g>
            <g transform="translate(150, 525)">
              <g transform="translate(0, 0)">
                <rect width="153" height="60"
                      style="fill:#FFFF19;fill-opacity:0.5;stroke:black;"/>
                <text x="55" y="35" font-size="20">XML</text>
              </g>
              <g transform="translate(163, 0)">
                <rect width="152" height="60"
                      style="fill:#FFFF19;fill-opacity:0.5;stroke:black;"/>
                <text x="55" y="35" font-size="20">XML</text>
              </g>
              <g transform="translate(325, 0)">
                <rect width="152" height="60"
                      style="fill:#FFFF19;fill-opacity:0.5;stroke:black;"/>
                <text x="55" y="35" font-size="20">XML</text>
              </g>
              <g transform="translate(487, 0)">
                <rect width="153" height="60"
                      style="fill:#FFFF19;fill-opacity:0.5;stroke:black;"/>
                <text x="55" y="35" font-size="20">XML</text>
              </g>
            </g>
          </svg>
        </section>
        <section data-transition="convex">
          <h3>What is a taxonomy?</h3>    
          <ul>
            <li class="fragment" data-fragment-index="1">Lots of XML files, containing...</li>
            <li class="fragment" data-fragment-index="2"><a href="http://nltaxonomie.nl/9.0/basis/venj/items/venj-bw2-data.xsd">Concept definitions (xsd's)</a></li>
            <li class="fragment" data-fragment-index="3"><a href="http://nltaxonomie.nl/9.0/report/kvk/linkroles/kvk-balance-sheet-model-d-pre.xml">Meta-information about these concepts (linkbases)</a></li>
          </ul>
        </section>
        <section>
          <section>
            <h3>What is an instance?</h3>
          </section>
          <section>
<pre style="font-size:15px;line-height:10px;padding:15px;">
&lt;xbrl&gt; <br/>
  &lt;xbrli:context id="FY14d"&gt; <br/> 
    &lt;xbrli:entity&gt;<br/>
      &lt;xbrli:identifier scheme="http://www.kvk.nl/kvk-id"&gt;30267975<br/>
      &lt;/xbrli:identifier&gt;<br/>
    &lt;/xbrli:entity&gt;<br/>
    &lt;xbrli:period&gt;<br/>
      &lt;xbrli:startDate&gt;2014-01-01&lt;/xbrli:startDate&gt;<br/>
      &lt;xbrli:endDate&gt;2014-12-31&lt;/xbrli:endDate&gt;<br/>
    &lt;/xbrli:period&gt;<br/>
  &lt;/xbrli:context&gt;<br/>
  &lt;xbrli:unit id="EUR"&gt;<br/>
    &lt;xbrli:measure&gt;iso4217:EUR&lt;/xbrli:measure&gt;<br/>
  &lt;/xbrli:unit&gt;<br/>
  &lt;venj-bw2-i:Equity contextRef="FY14d" <br/>
                        unitRef="EUR" <br/>
                        decimals="INF"&gt;2100000&lt;/venj-bw2-i:Equity&gt;<br/>
  &lt;kvk-t:EntityAddressPresentation&gt;<br/>
    &lt;nl-cd:POBoxNumber contextRef="FY14d"&gt;2312&lt;/nl-cd:POBoxNumber&gt;<br/>
    &lt;nl-cd:PostalCodeNL contextRef="FY14d"&gt;2501CD&lt;/nl-cd:PostalCodeNL&gt;<br/>
    &lt;nl-cd:PlaceOfResidenceNL contextRef="FY14d"&gt;Den Haag<br/>
    &lt;/nl-cd:PlaceOfResidenceNL&gt; <br/>
    &lt;nl-cd:CountryName contextRef="FY14d"&gt;Nederland&lt;/nl-cd:CountryName&gt;<br/>
  &lt;/kvk-t:EntityAddressPresentation&gt;<br/>
&lt;/xbrl&gt;<br/>
</pre>
          </section>
        </section>
        <section>
          <svg width="960" height="700" viewBox="0 0 960 700">
            <defs>
              <marker id="head-down-2" markerWidth="10" markerHeight="20" refX="5" refY="0.1"> 
                <path d="M0,0 H10 L5,5 Z" style="stroke-width:1;stroke:black;fill:black;"/>
              </marker>
              <marker id="head-up-2" markerWidth="10" markerHeight="20" refX="5" refY="9.9"> 
                <path d="M0,10 H10 L5,5 Z" style="stroke-width:1;stroke:black;fill:black;"/>
              </marker>
            </defs>
            <g transform="translate(200,125)">
              <rect width="150" height="75" x="0" y="0" 
                    style="fill:white;stroke-width:1;stroke:black;"/>
              <text x="40" y="45" font-size="20">Client 1</text>
              <path d="M50 75 V200" 
                    style="stroke:black;stroke-width:1;"
                    marker-end="url(#head-down-2)"/>
              <text x="-90" y="135" font-size="15">GET /concept/labels</text>
              <path d="M100 80 V200" 
                    style="stroke:black;stroke-width:1;"
                    marker-start="url(#head-up-2)"/>
              <text x="110" y="135" font-size="15">JSON  {...}</text>
            </g>
            <g transform="translate(600,125)">
              <rect width="150" height="75" x="0" y="0" 
                    style="fill:white;stroke-width:1;stroke:black;"/>
              <text x="40" y="45" font-size="20">Client N</text>
              <path d="M50 75 V200" 
                    style="stroke:black;stroke-width:1;"
                    marker-end="url(#head-down-2)"/>
              <text x="-110" y="135" font-size="15">GET /presentationTree</text>
              <path d="M100 80 V200" 
                    style="stroke:black;stroke-width:1;"
                    marker-start="url(#head-up-2)"/>
              <text x="110" y="135" font-size="15">JSON  {...}</text>
            </g>
            <path d="M20 350 H920" style="stroke:black;"/>
            <g transform="translate(150, 360)">
              <rect width="640" height="90"
                    style="fill:white;stroke:black;"/>
              <g transform="translate(260, 25)">
                <text x="0" y="0" font-size="20">REST API</text>
                <text x="0" y="25" font-size="20">/concept/references</text>
                <text x="0" y="50" font-size="20">/dtsGraph</text>
              </g>
            </g>
            <g transform="translate(150, 455)">
              <rect width="640" height="30"
                    style="fill:white;stroke:black;"/>
              <g transform="translate(260, 22)">
                <text x="0" y="0" font-size="20">TQA</text>
              </g>
            </g>
            <g transform="translate(150, 490)">
              <rect width="640" height="30"
                    style="fill:#FFFF19;fill-opacity:0.5;stroke:black;"/>
              <g transform="translate(260, 22)">
                <text x="0" y="0" font-size="20">Yaidom</text>
              </g>
            </g>
            <g transform="translate(150, 525)">
              <g transform="translate(0, 0)">
                <rect width="153" height="60"
                      style="fill:white;stroke:black;"/>
                <text x="55" y="35" font-size="20">XML</text>
              </g>
              <g transform="translate(163, 0)">
                <rect width="152" height="60"
                      style="fill:white;stroke:black;"/>
                <text x="55" y="35" font-size="20">XML</text>
              </g>
              <g transform="translate(325, 0)">
                <rect width="152" height="60"
                      style="fill:white;stroke:black;"/>
                <text x="55" y="35" font-size="20">XML</text>
              </g>
              <g transform="translate(487, 0)">
                <rect width="153" height="60"
                      style="fill:white;stroke:black;"/>
                <text x="55" y="35" font-size="20">XML</text>
              </g>
            </g>
          </svg>
        </section>
        <!-- Yaidom -->
        <section>
          <h3>What is yaidom?</h3>
          <ul>
            <li class="fragment" data-fragment-index="1">An XML query and transformation API</li>
            <li class="fragment" data-fragment-index="2">Leverages Scala and the Scala Collections API</li>
            <li class="fragment" data-fragment-index="3">The XML query API is small and uniform</li>
            <li class="fragment" data-fragment-index="4">It is offered by multiple element implementations</li>
            <li class="fragment" data-fragment-index="4">Including your own custom ones</li>
            <li class="fragment" data-fragment-index="5">Very precise XML namespace support</li>
            <li class="fragment" data-fragment-index="6">Full control over XML parsing and serialization</li>
          </ul>
        </section>
        <section>
          <section>
            <h3>Yaidom examples</h3>
            <ul>
              <li class="fragment" data-fragment-index="1">Yaidom is shown by example code</li>
              <li class="fragment" data-fragment-index="2">The examples use an XBRL <em>instance</em>, as XML</li>
              <li class="fragment" data-fragment-index="3">Note: an instance is not taxonomy data (data vs. meta-data)</li>
              <li class="fragment" data-fragment-index="4">An XBRL instance has facts ...</li>
              <li class="fragment" data-fragment-index="5">with contexts ...</li>
              <li class="fragment" data-fragment-index="6">and (if numeric) units ...</li>
              <li class="fragment" data-fragment-index="7">which is all XML, queryable using yaidom</li>
            </ul>
          </section>
          <section>
<p>... TODO Picture of XBRL instance highlighting 1 fact, its context, and unit ...</p>
          </section>
        </section>
        <section>
          <section>
            <h3>Yaidom examples (getting child elements)</h3>
            <ul>
              <li class="fragment" data-fragment-index="1">The XBRL instance is "just" XML</li>
              <li class="fragment" data-fragment-index="2">Contexts are child elements of the root element</li>
              <li class="fragment" data-fragment-index="3">So are units ...</li>
              <li class="fragment" data-fragment-index="4">And so are top level facts</li>
              <li class="fragment" data-fragment-index="5">Query them using yaidom verb <em>filterChildElems</em></li>
            </ul>
          </section>
          <section>
<p>... TODO Picture of XBRL instance highlighting 1 fact, its context, and unit, seen as just XML ...</p>
          </section>
        </section>
        <section>
            <h3>Yaidom examples (getting child elements)</h3>
            <p>Finding child elements:
              <pre><code data-trim class="scala">
val contexts = xbrlInstance filterChildElems { e =>
  e.resolvedName == EName(XbrliNs, "context")
}
</code></pre>
<pre><code data-trim class="scala">
val units = 
  xbrlInstance.filterChildElems(withEName(XbrliNs, "unit"))</code></pre>
<pre><code data-trim class="scala">
val optNamespaces = Set(Option(XbrliNs), Option(LinkNs))
val topLevelFacts = 
  xbrlInstance filterChildElems { e =>
    !optNamespaces.contains(e.resolvedName.namespaceUriOption)
  }</code></pre></p>
        </section>
        <section>
          <section>
            <h3>Yaidom examples (getting descendant elements)</h3>
            <ul>
              <li class="fragment" data-fragment-index="1">Nested facts are descendants of top level facts</li>
              <li class="fragment" data-fragment-index="2">Query them using yaidom verb <em>filterElems</em></li>
              <li class="fragment" data-fragment-index="3">All facts are descendants-or-self of top level facts</li>
              <li class="fragment" data-fragment-index="4">Query them using yaidom verb <em>filterElemsOrSelf</em></li>
              <li class="fragment" data-fragment-index="5">The 3 yaidom verbs so far give a good taste of yaidom querying</li>
            </ul>
          </section>
          <section>
<p>... TODO Picture of XBRL instance with nested facts, seen as just XML ...</p>
          </section>
        </section>
        <section>
            <h3>Yaidom examples (getting descendant elements)</h3>
<p>Finding descendant(-or-self) elements:
  <pre><code class="scala">val nestedFacts =
  topLevelFacts.flatMap(e => e.filterElems(_.resolvedName.namespaceUriOption != Some(XbrliNs)))</code></pre>
  <pre><code class="scala">val allFacts =
  topLevelFacts.flatMap(e => e.filterElemsOrSelf(_.resolvedName.namespaceUriOption != Some(XbrliNs)))</code></pre></p>
<p>Non-trivial queries combine facts with contexts and units ...</p>
        </section>
<section>
  <h3>One query API, multiple implementations</h3>
  <ul>
    <li class="fragment" data-fragment-index="1">Default (yaidom) immutable "simple" elements</li>
    <li class="fragment" data-fragment-index="2">Immutable "indexed" elements, knowing their ancestry</li>
    <li class="fragment" data-fragment-index="3">Immutable "resolved" elements, with sensible equality</li>
    <li class="fragment" data-fragment-index="4">Yaidom wrappers for DOM</li>
    <li class="fragment" data-fragment-index="5">Yaidom wrappers for Saxon NodeInfo</li>
    <li class="fragment" data-fragment-index="6">etc.</li>
  </ul>
  <p class="fragment" data-fragment-index="7">The preceding examples work for all these implementations!</p>
  <p class="fragment" data-fragment-index="8">And they are easy to bootstrap (little code needed)</p>
</section>
<section> 
  <h3>Why yaidom? Why not XPath, Scala XML, etc.?</h3>
  <ul>
    <li class="fragment" data-fragment-index="1">Just Scala, not cumbersome returned DOM node sets</li>
    <li class="fragment" data-fragment-index="2">All of Scala as language (intermediate results, functions, OO, etc.)</li>
    <li class="fragment" data-fragment-index="3">Scala Collections API used as <em>universal query language</em></li>
    <li class="fragment" data-fragment-index="4">No XDM/XPath quirks (singleton sequences, "equality" etc.)</li>
    <li class="fragment" data-fragment-index="5">Very fast</li>
    <li class="fragment" data-fragment-index="6">Excellent namespace support</li>
    <li class="fragment" data-fragment-index="7">One <em>uniform</em> XML query API, <em>multiple</em> implementations</li>
    <li class="fragment" data-fragment-index="8">None of the Scala/Java alternatives offered this</li>
  </ul>
</section>	
 
<!-- TQA -->
<section>
  <svg width="960" height="700" viewBox="0 0 960 700">
    <defs>
      <marker id="head-down-3" markerWidth="10" markerHeight="20" refX="5" refY="0.1"> 
        <path d="M0,0 H10 L5,5 Z" style="stroke-width:1;stroke:black;fill:black;"/>
      </marker>
      <marker id="head-up-3" markerWidth="10" markerHeight="20" refX="5" refY="9.9"> 
        <path d="M0,10 H10 L5,5 Z" style="stroke-width:1;stroke:black;fill:black;"/>
      </marker>
    </defs>
    <g transform="translate(200,125)">
      <rect width="150" height="75" x="0" y="0" 
            style="fill:white;stroke-width:1;stroke:black;"/>
      <text x="40" y="45" font-size="20">Client 1</text>
      <path d="M50 75 V200" 
            style="stroke:black;stroke-width:1;"
            marker-end="url(#head-down-3)"/>
      <text x="-90" y="135" font-size="15">GET /concept/labels</text>
      <path d="M100 80 V200" 
            style="stroke:black;stroke-width:1;"
            marker-start="url(#head-up-3)"/>
      <text x="110" y="135" font-size="15">JSON  {...}</text>
    </g>
    <g transform="translate(600,125)">
      <rect width="150" height="75" x="0" y="0" 
            style="fill:white;stroke-width:1;stroke:black;"/>
      <text x="40" y="45" font-size="20">Client N</text>
      <path d="M50 75 V200" 
            style="stroke:black;stroke-width:1;"
            marker-end="url(#head-down-3)"/>
      <text x="-110" y="135" font-size="15">GET /presentationTree</text>
      <path d="M100 80 V200" 
            style="stroke:black;stroke-width:1;"
            marker-start="url(#head-up-3)"/>
      <text x="110" y="135" font-size="15">JSON  {...}</text>
    </g>
    <path d="M20 350 H920" style="stroke:black;"/>
    <g transform="translate(150, 360)">
      <rect width="640" height="90"
            style="fill:white;stroke:black;"/>
      <g transform="translate(260, 25)">
        <text x="0" y="0" font-size="20">REST API</text>
        <text x="0" y="25" font-size="20">/concept/references</text>
        <text x="0" y="50" font-size="20">/dtsGraph</text>
      </g>
    </g>
    <g transform="translate(150, 455)">
      <rect width="640" height="30"
            style="fill:#FFFF19;fill-opacity:0.5;stroke:black;"/>
      <g transform="translate(260, 22)">
        <text x="0" y="0" font-size="20">TQA</text>
      </g>
    </g>
    <g transform="translate(150, 490)">
      <rect width="640" height="30"
            style="fill:white;stroke:black;"/>
      <g transform="translate(260, 22)">
        <text x="0" y="0" font-size="20">Yaidom</text>
      </g>
    </g>
    <g transform="translate(150, 525)">
      <g transform="translate(0, 0)">
        <rect width="153" height="60"
              style="fill:white;stroke:black;"/>
        <text x="55" y="35" font-size="20">XML</text>
      </g>
      <g transform="translate(163, 0)">
        <rect width="152" height="60"
              style="fill:white;stroke:black;"/>
        <text x="55" y="35" font-size="20">XML</text>
      </g>
      <g transform="translate(325, 0)">
        <rect width="152" height="60"
              style="fill:white;stroke:black;"/>
        <text x="55" y="35" font-size="20">XML</text>
      </g>
      <g transform="translate(487, 0)">
        <rect width="153" height="60"
              style="fill:white;stroke:black;"/>
        <text x="55" y="35" font-size="20">XML</text>
      </g>
    </g>
  </svg>
</section>
<section>
  <section>
  <h2>TQA</h2>
  <ul>
    <li class="fragment" data-fragment-index="1">TQA is a Taxonomy Query API</li>
    <li class="fragment" data-fragment-index="2">Multi-purpose: validation, rendering etc.</li>
    <li class="fragment" data-fragment-index="3">Practically read-only</li>
    <li class="fragment" data-fragment-index="4">Can be used at different levels of abstraction</li>
    <li class="fragment" data-fragment-index="5">Leverages Scala and yaidom</li>
    <li class="fragment" data-fragment-index="6">At the lowest level offers type-safe yaidom element wrappers</li>
    <li class="fragment" data-fragment-index="7">At the highest level supports semantic dimensional queries</li>
  </ul>
  </section>
  <section>
     <h2>Demo ...</h2>
  </section>
</section>
<section data-background="#8b0000" data-transition="zoom">
  <svg id="tornit-name" class="fragment" data-fragment-index="1" width="450" height="150px">
    <!--T-->
    <path d="M0 10 H 100" />
    <path d="M50 10 V 110"/>
    <!--o-->
    <path d="M100 60 H 150" />
    <path d="M150 60 V 110" />
    <path d="M150 110 H 100" />
    <path d="M100 110 V 60" />
    <!--r-->
    <path d="M200 110 V 60" />
    <path d="M200 60 H 225" />
    <!--n-->
    <path d="M250 110 V 60" />
    <path d="M250 60 L 300 110" />
    <path d="M300 110 V 60" />
    <!--i-->
    <path d="M350 60 V 110" />
    <path d="M100 30 H 350" />
    <path d="M350 30 V 45" />
    <!--T-->
    <path d="M350 10 H 450" />
    <path d="M400 110 V 10" /> 
  </svg> 
  <h5 class="fragment" data-fragment-index="2" id="front-page-header">An XBRL Taxonomy Viewer</h5>
</section>
<section>
  <h3>What is a taxonomy viewer?</h3>
  <ul>
    <li data-fragment-index="1" class="fragment fade-in">Helps you access information in the taxonomy</li>
    <li data-fragment-index="2" class="fragment fade-in">Answers questions</li>
    <li data-fragment-index="3" class="fragment fade-in">Hides the technicalities (provides a <i>semantic</i> view)</li>
  </ul>
</section>
<section>
  <section>
    <h3>What is a <span data-fragment-index="1" class="fragment highlight-red">good</span> taxonomy viewer?</h3>
    <ul>
      <li data-fragment-index="2" class="fragment fade-in">Is snappy</li>
      <li data-fragment-index="3" class="fragment fade-in">Assists you in your queries</li>
      <li data-fragment-index="4" class="fragment fade-in">Is visual</li>
      <li data-fragment-index="5" class="fragment fade-in">Supports easy navigation through the taxonomy</li>
      <li data-fragment-index="6" class="fragment fade-in">Gives access to the technical details if desired</li>
    </ul>
  </section>
  <section>
    <h2>Demo Yeti</h2>
  </section>
  <section>
    <h2>Demo Tornit</h2>
  </section>
</section>
<section>
  <svg width="960" height="700" viewBox="0 0 960 700">
    <defs>
      <marker id="head-down-4" markerWidth="10" markerHeight="20" refX="5" refY="0.1"> 
        <path d="M0,0 H10 L5,5 Z" style="stroke-width:1;stroke:black;fill:black;"/>
      </marker>
      <marker id="head-up-4" markerWidth="10" markerHeight="20" refX="5" refY="9.9"> 
        <path d="M0,10 H10 L5,5 Z" style="stroke-width:1;stroke:black;fill:black;"/>
      </marker>
    </defs>
    <g transform="translate(200,125)">
      <rect width="150" height="75" x="0" y="0" 
            style="fill:white;stroke-width:1;stroke:black;"/>
      <text x="40" y="45" font-size="20">Client 1</text>
      <path d="M50 75 V200" 
            style="stroke:black;stroke-width:1;"
            marker-end="url(#head-down-4)"/>
      <text x="-90" y="135" font-size="15">GET /concept/labels</text>
      <path d="M100 80 V200" 
            style="stroke:black;stroke-width:1;"
            marker-start="url(#head-up-4)"/>
      <text x="110" y="135" font-size="15">JSON  {...}</text>
    </g>
    <g transform="translate(600,125)">
      <rect width="150" height="75" x="0" y="0" 
            style="fill:white;stroke-width:1;stroke:black;"/>
      <text x="40" y="45" font-size="20">Client N</text>
      <path d="M50 75 V200" 
            style="stroke:black;stroke-width:1;"
            marker-end="url(#head-down-4)"/>
      <text x="-110" y="135" font-size="15">GET /presentationTree</text>
      <path d="M100 80 V200" 
            style="stroke:black;stroke-width:1;"
            marker-start="url(#head-up-4)"/>
      <text x="110" y="135" font-size="15">JSON  {...}</text>
    </g>
    <path d="M20 350 H920" style="stroke:black;"/>
    <g transform="translate(150, 360)">
      <rect width="640" height="90"
            style="fill:#FFFF19;fill-opacity:0.5;stroke:black;"/>
      <g transform="translate(260, 25)">
        <text x="0" y="0" font-size="20">REST API</text>
        <text x="0" y="25" font-size="20">/concept/references</text>
        <text x="0" y="50" font-size="20">/dtsGraph</text>
      </g>
    </g>
    <g transform="translate(150, 455)">
      <rect width="640" height="30"
            style="fill:white;stroke:black;"/>
      <g transform="translate(260, 22)">
        <text x="0" y="0" font-size="20">TQA</text>
      </g>
    </g>
    <g transform="translate(150, 490)">
      <rect width="640" height="30"
            style="fill:white;stroke:black;"/>
      <g transform="translate(260, 22)">
        <text x="0" y="0" font-size="20">Yaidom</text>
      </g>
    </g>
    <g transform="translate(150, 525)">
      <g transform="translate(0, 0)">
        <rect width="153" height="60"
              style="fill:white;stroke:black;"/>
        <text x="55" y="35" font-size="20">XML</text>
      </g>
      <g transform="translate(163, 0)">
        <rect width="152" height="60"
              style="fill:white;stroke:black;"/>
        <text x="55" y="35" font-size="20">XML</text>
      </g>
      <g transform="translate(325, 0)">
        <rect width="152" height="60"
              style="fill:white;stroke:black;"/>
        <text x="55" y="35" font-size="20">XML</text>
      </g>
      <g transform="translate(487, 0)">
        <rect width="153" height="60"
              style="fill:white;stroke:black;"/>
        <text x="55" y="35" font-size="20">XML</text>
      </g>
    </g>
  </svg>
</section>
<section>
  <!--Play SVG -->
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 517 270" enable-background="new 0 0 517 270" width="150"><g><path fill="#92D13D" d="M36.9 26.4l6.2-6.2c9.5-9.4 25-8.8 33.7 1.3l85.8 100c7.5 8.7 7.4 21.6-.2 30.2l-85.5 96.9c-8.8 9.9-24.1 10.4-33.5 1l-6.2-6.2c-8.4-8.4-9-21.8-1.4-31l51.2-61.4c7-8.4 7.1-20.5.3-29.1l-52-65c-7.4-9-6.7-22.2 1.6-30.5z"/><path fill="#49691F" d="M86.9 151.2l-51.2 61.4c-7.6 9.1-7 22.6 1.4 31l6.2 6.2c9.4 9.4 24.7 8.9 33.5-1l18.5-21c7-13.8 10.9-29.4 10.9-45.9 0-20.4-6-39.3-16.2-55.2 3.8 7.8 2.8 17.5-3.1 24.5z"/><g fill="#49691F"><path d="M206.6 209.5h-19.9v-115.7h19.9v12.1c2.8-8.1 12.9-13.9 26.7-13.9 11.8 0 21.7 4.2 29.7 12.6 8.1 8.3 12.1 18.6 12.1 31s-4 22.7-12.1 31.2c-8 8.3-17.9 12.4-29.7 12.4-13.8 0-23.9-5.8-26.7-13.9v44.2zm5.8-92.1c-4.8 4.8-7.3 11-7.3 18.3s2.5 13.4 7.3 18.3c5 4.8 11.1 7.3 18.3 7.3s12.9-2.5 17.6-7.3c4.8-4.8 7.1-11 7.1-18.3s-2.3-13.4-7.1-18.3c-4.6-4.8-10.5-7.3-17.6-7.3s-13.3 2.5-18.3 7.3zM282 61.8h19.9v88.3c0 8.1 2.7 11.6 10 11.6 2.3 0 4.3-.2 6-.7v17.8c-2.3.7-5.5 1-9.5 1-17.6 0-26.4-9-26.4-27.1v-90.9zM385.3 105.9v-12.1h19.9v58.4c0 7.1 1.7 9.8 6.1 9.8 1.2 0 2.7-.2 4.2-.3v16.1c-2.2.8-5.5 1.3-9.8 1.3-4.8 0-8.6-.8-11.6-2.7-3.7-2.5-6-5.8-6.8-10.1-5.8 8.8-15.4 13.1-28.7 13.1-11.8 0-21.7-4.1-29.9-12.6-8-8.5-12-18.8-12-31.2s4-22.7 12-31c8.1-8.5 18.1-12.6 29.9-12.6 13.4 0 23.5 6 26.7 13.9zm-6 48c5-4.8 7.5-11 7.5-18.3s-2.5-13.4-7.5-18.3c-4.8-4.8-11-7.3-18.1-7.3s-12.9 2.5-17.8 7.3c-4.6 4.8-7 11-7 18.3s2.3 13.4 7 18.3c4.8 4.8 10.6 7.3 17.8 7.3s13.3-2.5 18.1-7.3zM422.4 194.2c2.5.8 5.6 1.3 9.3 1.3 3.2 0 5.5-.7 7.3-1.8s3.5-3.7 4.8-7.1l2.2-6-35-86.8h20l24.6 63.1 23.1-63.1h20.1l-37.5 97.3c-2.5 6.5-5.5 11.5-9 14.9-5 4.6-11.6 7-20.1 7-3.7 0-7-.5-9.8-1.3v-17.5z"/></g></g></svg>
  <h3>The Play framework</h3>
  <ul>
    <li class="fragment" data-fragment-index="1">Scala web framework</li>
    <li class="fragment" data-fragment-index="2">Part of the typesafe stack (open-source)</li>
    <li class="fragment" data-fragment-index="3">Friendly developer experience</li>
    <li class="fragment" data-fragment-index="4">Asset pipeline (built-in or with sbt-web)</li>
    <li class="fragment" data-fragment-index="5">Based on Akka: can handle multiple users with CPU intensive tasks</li>
    <li class="fragment" data-fragment-index="6">REST a first class citizen</li>
  </ul>
</section>
<section>
  <h3>The REST interface</h3>
  <ul>
    <li class="fragment" data-fragment-index="1">Split data from rendering (not REST specific)</li>
    <li class="fragment" data-fragment-index="2">Clear, lightweight operation semantics</li>
    <li class="fragment" data-fragment-index="3">REST is <strong>alot</strong> more than this: a whole philosophy (see Roy Fielding's PhD thesis)</li>
    <li class="fragment" data-fragment-index="4">Broaden accessibility to taxonomy queries</li>
  </ul>
</section>
<section>
  <svg width="960" height="700" viewBox="0 0 960 700">
    <defs>
      <marker id="head-down-5" markerWidth="10" markerHeight="20" refX="5" refY="0.1"> 
        <path d="M0,0 H10 L5,5 Z" style="stroke-width:1;stroke:black;fill:black;"/>
      </marker>
      <marker id="head-up-5" markerWidth="10" markerHeight="20" refX="5" refY="9.9"> 
        <path d="M0,10 H10 L5,5 Z" style="stroke-width:1;stroke:black;fill:black;"/>
      </marker>
    </defs>
    <g transform="translate(200,125)">
      <rect width="150" height="75" x="0" y="0" 
            style="fill:#FFFF19;fill-opacity:0.5;stroke-width:1;stroke:black;"/>
      <text x="40" y="45" font-size="20">Client 1</text>
      <path d="M50 75 V200" 
            style="stroke:black;stroke-width:1;"
            marker-end="url(#head-down-5)"/>
      <text x="-90" y="135" font-size="15">GET /concept/labels</text>
      <path d="M100 80 V200" 
            style="stroke:black;stroke-width:1;"
            marker-start="url(#head-up-5)"/>
      <text x="110" y="135" font-size="15">JSON  {...}</text>
    </g>
    <g transform="translate(600,125)">
      <rect width="150" height="75" x="0" y="0" 
            style="fill:#FFFF19;fill-opacity:0.5;stroke-width:1;stroke:black;"/>
      <text x="40" y="45" font-size="20">Client N</text>
      <path d="M50 75 V200" 
            style="stroke:black;stroke-width:1;"
            marker-end="url(#head-down-5)"/>
      <text x="-110" y="135" font-size="15">GET /presentationTree</text>
      <path d="M100 80 V200" 
            style="stroke:black;stroke-width:1;"
            marker-start="url(#head-up-5)"/>
      <text x="110" y="135" font-size="15">JSON  {...}</text>
    </g>
    <path d="M20 350 H920" style="stroke:black;"/>
    <g transform="translate(150, 360)">
      <rect width="640" height="90"
            style="fill:white;stroke:black;"/>
      <g transform="translate(260, 25)">
        <text x="0" y="0" font-size="20">REST API</text>
        <text x="0" y="25" font-size="20">/concept/references</text>
        <text x="0" y="50" font-size="20">/dtsGraph</text>
      </g>
    </g>
    <g transform="translate(150, 455)">
      <rect width="640" height="30"
            style="fill:white;stroke:black;"/>
      <g transform="translate(260, 22)">
        <text x="0" y="0" font-size="20">TQA</text>
      </g>
    </g>
    <g transform="translate(150, 490)">
      <rect width="640" height="30"
            style="fill:white;stroke:black;"/>
      <g transform="translate(260, 22)">
        <text x="0" y="0" font-size="20">Yaidom</text>
      </g>
    </g>
    <g transform="translate(150, 525)">
      <g transform="translate(0, 0)">
        <rect width="153" height="60"
              style="fill:white;stroke:black;"/>
        <text x="55" y="35" font-size="20">XML</text>
      </g>
      <g transform="translate(163, 0)">
        <rect width="152" height="60"
              style="fill:white;stroke:black;"/>
        <text x="55" y="35" font-size="20">XML</text>
      </g>
      <g transform="translate(325, 0)">
        <rect width="152" height="60"
              style="fill:white;stroke:black;"/>
        <text x="55" y="35" font-size="20">XML</text>
      </g>
      <g transform="translate(487, 0)">
        <rect width="153" height="60"
              style="fill:white;stroke:black;"/>
        <text x="55" y="35" font-size="20">XML</text>
      </g>
    </g>
  </svg>
</section>
<section>
  {% image "angular.png" alt="Angular Logo" style="border:none;width:200px;" %}
  <h3>The AngularJS framework</h3>
  <ul>
    <li class="fragment" data-fragment-index="1">Structures the javascript application
      <ul class="fragment" data-fragment-index="2">
        <li>Dependency injection</li>
        <li>Clear scoping for code (adds modularity)</li>
        <li>Improves testability</li>
      </ul>
    </li>
    <li class="fragment" data-fragment-index="3">Adds client side templating</li>
    <li class="fragment" data-fragment-index="4">Proper routing support, with deep linking
      <ul>
        <li>Application state is captured in the URL</li>
        <li>Back button support</li>
        <li>Enables easy and powerful navigation throughout the application</li>
      </ul>
    </li>
  </ul>
</section>
<section>
  <h3>Proper javascript programming</h3>
  <ul>
    <li class="fragment" data-fragment-index="1">underscore js for functional collections</li>
    <li class="fragment" data-fragment-index="2">d3 for data vizualization</li>
    <li class="fragment" data-fragment-index="3">JSHint for javascript linting</li>
    <li class="fragment" data-fragment-index="4">angular-ui for ui components</li>
  </ul>
</section>
<section>
  <h3>Deployment and operations</h3>
  <ul>
    <li class="fragment" data-fragment-index="1">Lightweight deployment model...</li>
    <li class="fragment" data-fragment-index="2">...no application server! (see Java Magazine December)</li>
    <li class="fragment" data-fragment-index="3">Different ways of deploying the application:
      <ul>
        <li class="fragment" data-fragment-index="4">Git checkout onto server and run using activator</li>
        <li class="fragment" data-fragment-index="5">Create standalone dist (including startup script)</li>
        <li class="fragment" data-fragment-index="6">As a Docker container, together with pre-bundled taxonomies</li>
      </ul>
    </li>
    <li class="fragment" data-fragment-index="7">Leverage XL Deploy for continuous delivery</li>
  </ul>
</section>
<section>
  <h3>Improvements</h3>
  <ul>
    <li class="fragment" data-fragment-index="1">Front end tests</li>
    <li class="fragment" data-fragment-index="2">Better front end build infrastructure and asset pipeline</li>
    <li class="fragment" data-fragment-index="3">More functionality</li>
    <li class="fragment" data-fragment-index="4">Deploy to a production like environment</li>
  </ul>
</section>
<section>
  <h3>Questions</h3>
</section>

</div>

</div>

{% javascript lib/head.min.js %}
{% javascript reveal.js %}
{% javascript vivus.min.js %}
{% javascript highlight.js %}

<script>

  // Full list of configuration options available at:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
  width: 960,
  height: 700,
  controls: true,
  progress: true,
  history: true,
  center: true,

  transition: 'slide', // none/fade/slide/convex/concave/zoom

  // Optional reveal.js plugins
  dependencies: [
     //{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); }
  ]
  });
  
  var animateTornit = new Vivus('tornit-name', {type: 'delayed', duration: 175, start: 'manual' });
  
  Reveal.addEventListener('fragmentshown', function( event ) {
    if (event.fragment.id === 'tornit-name') {
      animateTornit.play();
    }
  });

 // hljs.initHighlightingOnLoad();
</script>

</body>
</html>
